<!--хнжф╣ахЖЕхо╣шо╛ч╜ощб╡щЭв-->
<view class="content-container">
  <!-- щб╡щЭвцаЗщвШ -->
  <view class="header">
    <text class="title">шо╛ч╜охнжф╣ахЖЕхо╣</text>
    <text class="date">{{dateText}}</text>
  </view>

  <!-- х╜УхЙНхнжф╣ахЖЕхо╣ -->
  <view class="content-section">
    <view class="section-title">
      <text class="title-text">хнжф╣ахЖЕхо╣</text>
      <text class="required">*</text>
    </view>
    
    <view class="content-input">
      <textarea 
        class="content-textarea"
        placeholder="шп╖ш╛УхЕеф╗КцЧехнжф╣ахЖЕхо╣..."
        value="{{studyContent}}"
        bindinput="onContentInput"
        maxlength="500"
        auto-height
        show-confirm-bar="{{false}}"
        cursor-spacing="20">
      </textarea>
      <view class="char-count">
        <text>{{studyContent.length}}/500</text>
      </view>
    </view>
  </view>

  <!-- х┐лцН╖цУНф╜Ь -->
  <view class="quick-actions">
    <view class="action-title">
      <text>х┐лцН╖цУНф╜Ь</text>
    </view>
    
    <view class="action-buttons">
      <button 
        class="action-btn" 
        bindtap="onCopyYesterday"
        wx:if="{{yesterdayContent}}">
        <view class="btn-content">
          <text class="btn-icon">ЁЯУЭ</text>
          <text class="btn-text">хдНчФицШихдйхЖЕхо╣</text>
        </view>
      </button>
      
      <button 
        class="action-btn" 
        bindtap="onSelectTemplate"
        wx:if="{{hasTemplates}}">
        <view class="btn-content">
          <text class="btn-icon">ЁЯУЛ</text>
          <text class="btn-text">щАЙцЛйцибцЭ┐</text>
        </view>
      </button>
      
      <button 
        class="action-btn" 
        bindtap="onCreateTemplate"
        wx:if="{{studyContent.length > 0}}">
        <view class="btn-content">
          <text class="btn-icon">ЁЯТ╛</text>
          <text class="btn-text">ф┐ЭхнШф╕║цибцЭ┐</text>
        </view>
      </button>
    </view>
  </view>

  <!-- цибцЭ┐щАЙцЛйх╝╣чкЧ -->
  <view class="template-modal" wx:if="{{showTemplateModal}}">
    <view class="modal-mask" bindtap="onCloseTemplateModal"></view>
    <view class="modal-content">
      <view class="modal-header">
        <text class="modal-title">щАЙцЛйхнжф╣ацибцЭ┐</text>
        <view class="modal-close" bindtap="onCloseTemplateModal">
          <text>├Ч</text>
        </view>
      </view>
      
      <view class="template-list">
        <view 
          class="template-item"
          wx:for="{{templates}}"
          wx:key="id"
          bindtap="onSelectTemplateItem"
          data-template="{{item}}">
          <view class="template-info">
            <text class="template-name">{{item.name}}</text>
            <text class="template-content">{{item.content}}</text>
          </view>
          <view class="template-time">
            <text>{{item.createTime}}</text>
          </view>
        </view>
      </view>
      
      <view class="modal-footer">
        <button class="modal-btn cancel" bindtap="onCloseTemplateModal">хПЦц╢И</button>
        <button class="modal-btn manage" bindtap="onManageTemplates">чобчРЖцибцЭ┐</button>
      </view>
    </view>
  </view>

  <!-- хИЫх╗║цибцЭ┐х╝╣чкЧ -->
  <view class="template-modal" wx:if="{{showCreateModal}}">
    <view class="modal-mask" bindtap="onCloseCreateModal"></view>
    <view class="modal-content">
      <view class="modal-header">
        <text class="modal-title">ф┐ЭхнШф╕║цибцЭ┐</text>
        <view class="modal-close" bindtap="onCloseCreateModal">
          <text>├Ч</text>
        </view>
      </view>
      
      <view class="create-form">
        <view class="form-item">
          <text class="form-label">цибцЭ┐хРНчз░</text>
          <input 
            class="form-input"
            placeholder="шп╖ш╛УхЕецибцЭ┐хРНчз░"
            value="{{templateName}}"
            bindinput="onTemplateNameInput"
            maxlength="20">
          </input>
        </view>
        
        <view class="form-item">
          <text class="form-label">цибцЭ┐хЖЕхо╣</text>
          <textarea 
            class="form-textarea"
            value="{{studyContent}}"
            disabled
            auto-height>
          </textarea>
        </view>
      </view>
      
      <view class="modal-footer">
        <button class="modal-btn cancel" bindtap="onCloseCreateModal">хПЦц╢И</button>
        <button class="modal-btn confirm" bindtap="onConfirmCreateTemplate">ф┐ЭхнШ</button>
      </view>
    </view>
  </view>

  <!-- хдЗц│иф┐бцБп -->
  <view class="notes-section">
    <view class="section-title">
      <text class="title-text">хдЗц│и</text>
    </view>
    
    <view class="notes-input">
      <textarea 
        class="notes-textarea"
        placeholder="хПпц╖╗хКахнжф╣ахдЗц│ия╝ИщАЙхбля╝Й"
        value="{{notes}}"
        bindinput="onNotesInput"
        maxlength="200"
        auto-height
        show-confirm-bar="{{false}}"
        cursor-spacing="20">
      </textarea>
    </view>
  </view>

  <!-- х║ХщГицУНф╜ЬцМЙщТо -->
  <view class="bottom-actions">
    <button 
      class="save-btn"
      bindtap="onSaveContent"
      disabled="{{!studyContent.length}}">
      ф┐ЭхнШхнжф╣ахЖЕхо╣
    </button>
    
    <view class="action-tips" wx:if="{{!studyContent.length}}">
      <text>шп╖ш╛УхЕехнжф╣ахЖЕхо╣</text>
    </view>
  </view>
</view> 