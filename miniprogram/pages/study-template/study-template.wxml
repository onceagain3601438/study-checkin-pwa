<!--хнжф╣ацибцЭ┐чобчРЖщб╡щЭв-->
<view class="template-container">
  <!-- щб╡щЭвцаЗщвШ -->
  <view class="header">
    <text class="title">хнжф╣ацибцЭ┐</text>
    <text class="subtitle">чобчРЖф╜ачЪДхнжф╣ахЖЕхо╣цибцЭ┐</text>
  </view>

  <!-- ц╖╗хКацибцЭ┐цМЙщТо -->
  <view class="add-section">
    <button class="add-btn" bindtap="onAddTemplate">
      <text class="add-icon">+</text>
      <text class="add-text">ц╖╗хКацЦ░цибцЭ┐</text>
    </button>
  </view>

  <!-- цибцЭ┐хИЧшби -->
  <view class="template-list" wx:if="{{templates.length > 0}}">
    <view 
      class="template-item"
      wx:for="{{templates}}"
      wx:key="id">
      <view class="template-content">
        <view class="template-header">
          <text class="template-name">{{item.name}}</text>
          <text class="template-date">{{item.createTime}}</text>
        </view>
        <view class="template-body">
          <text class="template-text">{{item.content}}</text>
        </view>
      </view>
      
      <view class="template-actions">
        <button 
          class="action-btn edit-btn" 
          bindtap="onEditTemplate"
          data-template="{{item}}">
          ч╝Цш╛С
        </button>
        <button 
          class="action-btn delete-btn" 
          bindtap="onDeleteTemplate"
          data-template="{{item}}">
          хИащЩд
        </button>
      </view>
    </view>
  </view>

  <!-- чй║чК╢цАБ -->
  <view class="empty-state" wx:if="{{templates.length === 0}}">
    <text class="empty-icon">ЁЯУЛ</text>
    <text class="empty-title">цЪВцЧахнжф╣ацибцЭ┐</text>
    <text class="empty-desc">чВ╣хЗ╗ф╕КцЦ╣цМЙщТоц╖╗хКаф╜ачЪДчммф╕Аф╕кхнжф╣ацибцЭ┐</text>
  </view>

  <!-- хИЫх╗║/ч╝Цш╛СцибцЭ┐х╝╣чкЧ -->
  <view class="template-modal" wx:if="{{showModal}}">
    <view class="modal-mask" bindtap="onCloseModal"></view>
    <view class="modal-content">
      <view class="modal-header">
        <text class="modal-title">{{isEditMode ? 'ч╝Цш╛СцибцЭ┐' : 'ц╖╗хКацибцЭ┐'}}</text>
        <view class="modal-close" bindtap="onCloseModal">
          <text>├Ч</text>
        </view>
      </view>
      
      <view class="modal-body">
        <view class="form-item">
          <view class="form-label">
            <text class="label-text">цибцЭ┐хРНчз░</text>
            <text class="required">*</text>
          </view>
          <input 
            class="form-input"
            placeholder="шп╖ш╛УхЕецибцЭ┐хРНчз░"
            value="{{formData.name}}"
            bindinput="onNameInput"
            maxlength="20"
            focus="{{showModal && !isEditMode}}">
          </input>
          <view class="char-count">{{formData.name.length}}/20</view>
        </view>
        
        <view class="form-item">
          <view class="form-label">
            <text class="label-text">цибцЭ┐хЖЕхо╣</text>
            <text class="required">*</text>
          </view>
          <textarea 
            class="form-textarea"
            placeholder="шп╖ш╛УхЕехнжф╣ахЖЕхо╣цибцЭ┐"
            value="{{formData.content}}"
            bindinput="onContentInput"
            maxlength="500"
            auto-height
            show-confirm-bar="{{false}}"
            cursor-spacing="20">
          </textarea>
          <view class="char-count">{{formData.content.length}}/500</view>
        </view>
      </view>
      
      <view class="modal-footer">
        <button class="modal-btn cancel-btn" bindtap="onCloseModal">
          хПЦц╢И
        </button>
        <button 
          class="modal-btn confirm-btn" 
          bindtap="onConfirmSave"
          disabled="{{!formData.name.length || !formData.content.length}}">
          {{isEditMode ? 'ф┐ЭхнШ' : 'ц╖╗хКа'}}
        </button>
      </view>
    </view>
  </view>

  <!-- ф╜┐чФицПРчд║ -->
  <view class="tips-section" wx:if="{{templates.length > 0}}">
    <view class="tips-title">
      <text class="tips-icon">ЁЯТб</text>
      <text class="tips-text">ф╜┐чФицПРчд║</text>
    </view>
    <view class="tips-content">
      <text class="tip-item">тАв хЬишо╛ч╜охнжф╣ахЖЕхо╣цЧ╢хПпф╗ещАЙцЛйцибцЭ┐х┐лщАЯхблхЕЕ</text>
      <text class="tip-item">тАв цибцЭ┐хЖЕхо╣хПпф╗еца╣цНощЬАшжБщЪПцЧ╢ч╝Цш╛Сф┐оцФ╣</text>
      <text class="tip-item">тАв х╗║шооф╕║х╕╕чФичЪДхнжф╣ахЖЕхо╣хИЫх╗║цибцЭ┐</text>
    </view>
  </view>
</view> 